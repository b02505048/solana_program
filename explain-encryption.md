# 今回使用している暗号についての説明

今回、プロジェクトをスタートした時は、
完全準同型暗号であるconcrete ライブラリを使用して暗号のロジックを
書こうというところからスタートしました。
concrete ライブラリのいいところは、

- 準同型暗号が実装されている（暗号状態で計算できる)ため、位置情報の分析を暗号状態で行えること）
- 鍵交換が実装されている（プロキシ再暗号化とも呼ばれる）が可能であり、ユーザ１の位置情報をユーザ２にのみ復号可能なように暗号文を変更できる

などでした。
しかしながら、concrete ライブラリは計算資源を大量に必要とすることから、
Solanaのスマートコントラクトとしてデプロイすることが非常に困難であることがわかりました。

また、次にトライしたrecryptライブラリは、
鍵交換の機能を実装しているライブラリであり、準同型暗号ではありませんでした。
しかしながら、位置情報の共有のみを目的とした場合、鍵交換が可能であればアプリケーションとして
成り立つことから、スマートコントラクト上への実装を試みました。

しかしながら、このライブラリも、unsafeなオペレーションが含まれていることから
簡単にはスマートコントラクトへの実装ができず、限られた時間の中でこれらのライブラリを実際にスマートコントラクト上で動かすことは困難であるという決定をする必要がありました。

従って、今回のプロジェクトでは我々が「モックアップ暗号」として、
**grasscrete** というあくまでも暗号ではなく、位置情報にランダム性を持たせ、暗号ライブラリとしてモックアップの意味で使用する、というアプローチを取りました。

この**grasscrete** は、ランダム性をデータに付与するものですが、実際の鍵を知らなければ位置情報が秘匿される仕様になっており、上記で言及した

- 準同型性
- 鍵交換の可能性
をどちらもクリアーしています。

このgrasscreteはあくまでもモックアップのためのものであり、
今後セキュリティが向上するような改善をおこなっていくことが前提となった工夫であることに言及しておきます。

